do local Players=game:GetService("Players");local RunService=game:GetService("RunService");local UserInputService=game:GetService("UserInputService");local TweenService=game:GetService("TweenService");local LocalPlayer=Players.LocalPlayer;local config={NPCs=true,ForceCollisionGroup=true,Size=10,Transparency=1,Color=Color3.fromRGB(255,165,0),Visible=true,HitboxVisible=false,ToggleKey=Enum.KeyCode.Delete,TeamCheck=false,GhostHitFix=true,Material="Neon",Rainbow=false,TargetPart="HumanoidRootPart",Shape="Block",CanCollide=false,CastShadow=false,Highlight=false};local originalProperties={};local transparencyMap={};local function storeTransparency(obj) if  not obj then return;end local props={};if (obj:IsA("TextLabel") or obj:IsA("TextButton") or obj:IsA("TextBox")) then props.TextTransparency=obj.TextTransparency;end if obj:IsA("UIStroke") then props.Transparency=obj.Transparency;elseif (obj:IsA("ImageLabel") or obj:IsA("ImageButton")) then props.ImageTransparency=obj.ImageTransparency;elseif obj:IsA("ScrollingFrame") then props.ScrollBarImageTransparency=obj.ScrollBarImageTransparency;props.BackgroundTransparency=obj.BackgroundTransparency;else pcall(function() props.BackgroundTransparency=obj.BackgroundTransparency;end);end transparencyMap[obj]=props;end local ScreenGui=Instance.new("ScreenGui");ScreenGui.Name=game:GetService("HttpService"):GenerateGUID(false);ScreenGui.ResetOnSpawn=false;ScreenGui.ZIndexBehavior=Enum.ZIndexBehavior.Sibling;local protected=pcall(function() if gethui then ScreenGui.Parent=gethui();elseif (syn and syn.protect_gui) then syn.protect_gui(ScreenGui);ScreenGui.Parent=game:GetService("CoreGui");else ScreenGui.Parent=game:GetService("CoreGui");end end);if  not protected then ScreenGui.Parent=game:GetService("CoreGui");end local MainFrame=Instance.new("Frame");MainFrame.Name="MainFrame";MainFrame.Size=UDim2.new(0,300,0,500);MainFrame.Position=UDim2.new(0.5, -150,0.5, -250);MainFrame.BackgroundColor3=Color3.fromRGB(15,15,22);MainFrame.BorderSizePixel=0;MainFrame.ClipsDescendants=false;MainFrame.Parent=ScreenGui;storeTransparency(MainFrame);local MCorner=Instance.new("UICorner");MCorner.CornerRadius=UDim.new(0,14);MCorner.Parent=MainFrame;local MStroke=Instance.new("UIStroke");MStroke.Color=config.Color;MStroke.Thickness=1.2;MStroke.Parent=MainFrame;storeTransparency(MStroke);local MGradient=Instance.new("UIGradient");MGradient.Color=ColorSequence.new({ColorSequenceKeypoint.new(0,Color3.fromRGB(255,255,255)),ColorSequenceKeypoint.new(1,Color3.fromRGB(150,150,150))});MGradient.Rotation=45;MGradient.Parent=MainFrame;local Title=Instance.new("TextLabel");Title.Size=UDim2.new(1,0,0,50);Title.BackgroundTransparency=1;Title.Text="SENTINEL HITBOX EXPANDER";Title.TextColor3=Color3.fromRGB(255,255,255);Title.Font=Enum.Font.GothamBold;Title.TextSize=16;Title.Parent=MainFrame;storeTransparency(Title);local Content=Instance.new("ScrollingFrame");Content.Size=UDim2.new(1, -20,1, -70);Content.Position=UDim2.new(0,10,0,60);Content.BackgroundTransparency=1;Content.BorderSizePixel=0;Content.ScrollBarThickness=2;Content.ScrollBarImageColor3=config.Color;Content.CanvasSize=UDim2.new(0,0,0,0);Content.AutomaticCanvasSize=Enum.AutomaticSize.Y;Content.Parent=MainFrame;storeTransparency(Content);local UIList=Instance.new("UIListLayout");UIList.Padding=UDim.new(0,10);UIList.HorizontalAlignment=Enum.HorizontalAlignment.Center;UIList.SortOrder=Enum.SortOrder.LayoutOrder;UIList.Parent=Content;local function createToggle(name,default,callback) local Button=Instance.new("TextButton");Button.Size=UDim2.new(1,0,0,40);Button.BackgroundColor3=Color3.fromRGB(20,20,28);Button.BorderSizePixel=0;Button.Text="";Button.AutoButtonColor=false;Button.Parent=Content;storeTransparency(Button);local BCorner=Instance.new("UICorner");BCorner.CornerRadius=UDim.new(0,10);BCorner.Parent=Button;local Label=Instance.new("TextLabel");Label.Size=UDim2.new(1, -60,1,0);Label.Position=UDim2.new(0,15,0,0);Label.BackgroundTransparency=1;Label.Text=name:upper();Label.TextColor3=Color3.fromRGB(200,200,200);Label.Font=Enum.Font.GothamBold;Label.TextSize=12;Label.TextXAlignment=Enum.TextXAlignment.Left;Label.Parent=Button;storeTransparency(Label);local Indicator=Instance.new("Frame");Indicator.Size=UDim2.new(0,30,0,16);Indicator.Position=UDim2.new(1, -45,0.5, -8);Indicator.BackgroundColor3=(default and config.Color) or Color3.fromRGB(40,40,50) ;Indicator.Parent=Button;storeTransparency(Indicator);local ICorner=Instance.new("UICorner");ICorner.CornerRadius=UDim.new(1,0);ICorner.Parent=Indicator;local Dot=Instance.new("Frame");Dot.Size=UDim2.new(0,12,0,12);Dot.Position=UDim2.new(0,(default and 16) or 2 ,0.5, -6);Dot.BackgroundColor3=Color3.fromRGB(255,255,255);Dot.Parent=Indicator;storeTransparency(Dot);local DCorner=Instance.new("UICorner");DCorner.CornerRadius=UDim.new(1,0);DCorner.Parent=Dot;local enabled=default;Button.MouseButton1Click:Connect(function() enabled= not enabled;TweenService:Create(Indicator,TweenInfo.new(0.3),{BackgroundColor3=(enabled and config.Color) or Color3.fromRGB(40,40,50) }):Play();TweenService:Create(Dot,TweenInfo.new(0.3),{Position=UDim2.new(0,(enabled and 16) or 2 ,0.5, -6)}):Play();callback(enabled);end);end local function createSlider(name,min,max,default,callback) local Frame=Instance.new("Frame");Frame.Size=UDim2.new(1,0,0,60);Frame.BackgroundTransparency=1;Frame.Parent=Content;storeTransparency(Frame);local Label=Instance.new("TextLabel");Label.Size=UDim2.new(1,0,0,20);Label.BackgroundTransparency=1;Label.Text=name:upper()   .. ": "   .. default ;Label.TextColor3=Color3.fromRGB(200,200,200);Label.Font=Enum.Font.GothamBold;Label.TextSize=11;Label.TextXAlignment=Enum.TextXAlignment.Left;Label.Parent=Frame;storeTransparency(Label);local SliderBack=Instance.new("Frame");SliderBack.Size=UDim2.new(1,0,0,6);SliderBack.Position=UDim2.new(0,0,0,35);SliderBack.BackgroundColor3=Color3.fromRGB(30,30,40);SliderBack.BorderSizePixel=0;SliderBack.Parent=Frame;storeTransparency(SliderBack);local SCorner=Instance.new("UICorner");SCorner.CornerRadius=UDim.new(1,0);SCorner.Parent=SliderBack;local SliderFill=Instance.new("Frame");SliderFill.Size=UDim2.new((default-min)/(max-min) ,0,1,0);SliderFill.BackgroundColor3=config.Color;SliderFill.BorderSizePixel=0;SliderFill.Parent=SliderBack;storeTransparency(SliderFill);local SFCorner=Instance.new("UICorner");SFCorner.CornerRadius=UDim.new(1,0);SFCorner.Parent=SliderFill;local function update(input) local pos=math.clamp((input.Position.X-SliderBack.AbsolutePosition.X)/SliderBack.AbsoluteSize.X ,0,1);SliderFill.Size=UDim2.new(pos,0,1,0);local val=math.floor(min + ((max-min) * pos) );Label.Text=name:upper()   .. ": "   .. val ;callback(val);end local dragging=false;SliderBack.InputBegan:Connect(function(input) if (input.UserInputType==Enum.UserInputType.MouseButton1) then dragging=true;update(input);end end);UserInputService.InputEnded:Connect(function(input) if (input.UserInputType==Enum.UserInputType.MouseButton1) then dragging=false;end end);UserInputService.InputChanged:Connect(function(input) if (dragging and (input.UserInputType==Enum.UserInputType.MouseMovement)) then update(input);end end);end local activeDropdown=nil;local function createDropdown(name,options,default,callback) local Frame=Instance.new("Frame");Frame.Size=UDim2.new(1, -10,0,40);Frame.BackgroundTransparency=1;Frame.Parent=Content;storeTransparency(Frame);local Button=Instance.new("TextButton");Button.Size=UDim2.new(1,0,1,0);Button.BackgroundColor3=Color3.fromRGB(20,20,28);Button.BorderSizePixel=0;Button.Text="";Button.AutoButtonColor=false;Button.Parent=Frame;storeTransparency(Button);local BCorner=Instance.new("UICorner");BCorner.CornerRadius=UDim.new(0,10);BCorner.Parent=Button;local Label=Instance.new("TextLabel");Label.Size=UDim2.new(1, -40,1,0);Label.Position=UDim2.new(0,15,0,0);Label.BackgroundTransparency=1;Label.Text=name:upper()   .. ": "   .. tostring(default):upper() ;Label.TextColor3=Color3.fromRGB(200,200,200);Label.Font=Enum.Font.GothamBold;Label.TextSize=11;Label.TextXAlignment=Enum.TextXAlignment.Left;Label.Parent=Button;storeTransparency(Label);local Arrow=Instance.new("TextLabel");Arrow.Size=UDim2.new(0,30,1,0);Arrow.Position=UDim2.new(1, -35,0,0);Arrow.BackgroundTransparency=1;Arrow.Text="â–¼";Arrow.TextColor3=config.Color;Arrow.Font=Enum.Font.GothamBold;Arrow.TextSize=12;Arrow.Parent=Button;storeTransparency(Arrow);local DropdownFrame=Instance.new("Frame");DropdownFrame.Size=UDim2.new(0,150,0,( #options * 30) + 10 );DropdownFrame.BackgroundColor3=Color3.fromRGB(15,15,22);DropdownFrame.BorderSizePixel=0;DropdownFrame.Visible=false;DropdownFrame.ZIndex=100;DropdownFrame.Parent=MainFrame;storeTransparency(DropdownFrame);local DCorner=Instance.new("UICorner");DCorner.CornerRadius=UDim.new(0,8);DCorner.Parent=DropdownFrame;local DStroke=Instance.new("UIStroke");DStroke.Color=config.Color;DStroke.Thickness=1.2;DStroke.Parent=DropdownFrame;storeTransparency(DStroke);local DList=Instance.new("UIListLayout");DList.SortOrder=Enum.SortOrder.LayoutOrder;DList.Padding=UDim.new(0,2);DList.Parent=DropdownFrame;local Padding=Instance.new("UIPadding");Padding.PaddingTop=UDim.new(0,5);Padding.PaddingBottom=UDim.new(0,5);Padding.PaddingLeft=UDim.new(0,5);Padding.PaddingRight=UDim.new(0,5);Padding.Parent=DropdownFrame;for i,option in ipairs(options) do local OptBtn=Instance.new("TextButton");OptBtn.Size=UDim2.new(1,0,0,28);OptBtn.BackgroundColor3=Color3.fromRGB(15,15,22);OptBtn.BorderSizePixel=0;OptBtn.Text=tostring(option):upper();OptBtn.TextColor3=Color3.fromRGB(180,180,180);OptBtn.Font=Enum.Font.GothamBold;OptBtn.TextSize=10;OptBtn.ZIndex=101;OptBtn.Parent=DropdownFrame;storeTransparency(OptBtn);local OCorner=Instance.new("UICorner");OCorner.CornerRadius=UDim.new(0,6);OCorner.Parent=OptBtn;OptBtn.MouseButton1Click:Connect(function() Label.Text=name:upper()   .. ": "   .. tostring(option):upper() ;DropdownFrame.Visible=false;activeDropdown=nil;callback(option);end);OptBtn.MouseEnter:Connect(function() TweenService:Create(OptBtn,TweenInfo.new(0.2),{BackgroundColor3=Color3.fromRGB(40,40,50),TextColor3=Color3.fromRGB(255,255,255)}):Play();end);OptBtn.MouseLeave:Connect(function() TweenService:Create(OptBtn,TweenInfo.new(0.2),{BackgroundColor3=Color3.fromRGB(15,15,22),TextColor3=Color3.fromRGB(180,180,180)}):Play();end);end local function updatePosition() local buttonPos=Button.AbsolutePosition;local mainPos=MainFrame.AbsolutePosition;local relativeY=buttonPos.Y-mainPos.Y ;DropdownFrame.Position=UDim2.new(1,15,0,relativeY);end Button.MouseButton1Click:Connect(function() if (activeDropdown and (activeDropdown~=DropdownFrame)) then activeDropdown.Visible=false;end DropdownFrame.Visible= not DropdownFrame.Visible;if DropdownFrame.Visible then activeDropdown=DropdownFrame;updatePosition();else activeDropdown=nil;end end);RunService.RenderStepped:Connect(function() if DropdownFrame.Visible then updatePosition();end end);end createToggle("Enabled",config.Enabled,function(v) config.Enabled=v;end);createToggle("Expand Bots/NPCs",config.NPCs,function(v) config.NPCs=v;end);createToggle("Ghost Hit Fix",config.GhostHitFix,function(v) config.GhostHitFix=v;end);createToggle("Show Hitbox",config.HitboxVisible,function(v) config.HitboxVisible=v;end);createToggle("Force Collision Group",config.ForceCollisionGroup,function(v) config.ForceCollisionGroup=v;end);createToggle("Team Check",config.TeamCheck,function(v) config.TeamCheck=v;end);createToggle("Rainbow Effect",config.Rainbow,function(v) config.Rainbow=v;end);createToggle("Can Collide",config.CanCollide,function(v) config.CanCollide=v;end);createToggle("Cast Shadow",config.CastShadow,function(v) config.CastShadow=v;end);createToggle("Hitbox Highlight",config.Highlight,function(v) config.Highlight=v;end);createSlider("Hitbox Size",2,100,config.Size,function(v) config.Size=v;end);createDropdown("Target Part",{"HumanoidRootPart","Head","Torso","LowerTorso","UpperTorso"},config.TargetPart,function(v) config.TargetPart=v;end);createDropdown("Material",{"Neon","SmoothPlastic","ForceField","Glass"},config.Material,function(v) config.Material=v;end);createDropdown("Shape",{"Block","Ball","Cylinder","Wedge"},config.Shape,function(v) config.Shape=v;end);if hookmetamethod then local oldIndex;oldIndex=hookmetamethod(game,"__index",newcclosure(function(t,k) if  not checkcaller() then if (typeof(t)=="Instance") then if t:IsA("BasePart") then local orig=originalProperties[t];if orig then if (k=="Size") then return orig.Size;end if (k=="Transparency") then return orig.Transparency;end if (k=="CanCollide") then return orig.CanCollide;end if (k=="CanTouch") then return orig.CanTouch;end if (k=="CanQuery") then return orig.CanQuery or t.CanQuery ;end if (k=="CollisionGroupId") then return orig.CollisionGroupId;end if (k=="Massless") then return orig.Massless;end if (k=="AssemblyLinearVelocity") then return orig.AssemblyLinearVelocity;end if (k=="CastShadow") then return orig.CastShadow;end if (k=="Color") then return orig.Color;end if (k=="Material") then return orig.Material;end if (k=="Shape") then return orig.Shape;end end elseif ((t==workspace) and config.Enabled) then if ((k=="Raycast") or (k=="FindPartOnRay") or (k=="FindPartOnRayWithIgnoreList") or (k=="FindPartOnRayWithWhitelist") or (k=="Blockcast") or (k=="Spherecast") or (k=="GetPartBoundsInBox") or (k=="GetPartBoundsInRadius") or (k=="GetPartsInPart") or (k=="FindPartsInRegion3") or (k=="FindPartsInRegion3WithIgnoreList") or (k=="FindPartsInRegion3WithWhiteList") or (k=="FindPartOnRayWithIgnoreList") or (k=="FindPartOnRayWithWhitelist") or (k=="FindPartsInRegion3WithIgnoreList") or (k=="FindPartsInRegion3WithWhiteList")) then return newcclosure(function(self,...) return self[k](self,...);end);end end end end return oldIndex(t,k);end));local oldNewIndex;oldNewIndex=hookmetamethod(game,"__newindex",newcclosure(function(t,k,v) if ( not checkcaller() and (typeof(t)=="Instance") and t:IsA("BasePart")) then local orig=originalProperties[t];if orig then if (k=="Size") then orig.Size=v;return;end if (k=="Transparency") then orig.Transparency=v;return;end if (k=="CanCollide") then orig.CanCollide=v;return;end if (k=="CanTouch") then orig.CanTouch=v;return;end if (k=="CanQuery") then orig.CanQuery=v;return;end if (k=="CollisionGroupId") then orig.CollisionGroupId=v;return;end if (k=="Massless") then orig.Massless=v;return;end if (k=="AssemblyLinearVelocity") then orig.AssemblyLinearVelocity=v;return;end if (k=="CastShadow") then orig.CastShadow=v;return;end if (k=="Color") then orig.Color=v;return;end if (k=="Material") then orig.Material=v;return;end if (k=="Shape") then orig.Shape=v;return;end end end return oldNewIndex(t,k,v);end));local oldNamecall;oldNamecall=hookmetamethod(game,"__namecall",newcclosure(function(self,...) local method=getnamecallmethod();local args={...};if ( not checkcaller() and config.Enabled) then if ((method=="Raycast") or (method=="FindPartOnRay") or (method=="FindPartOnRayWithIgnoreList") or (method=="FindPartOnRayWithWhitelist") or (method=="Blockcast") or (method=="Spherecast")) then local result={oldNamecall(self,...)};local hitPart=((method=="Raycast") and result[1] and result[1].Instance) or (((method=="Blockcast") or (method=="Spherecast")) and result[1] and result[1].Instance) or result[1] ;if (hitPart and originalProperties[hitPart] and config.GhostHitFix) then if (((method=="Raycast") or (method=="Blockcast") or (method=="Spherecast")) and result[1]) then elseif result[2] then local root=hitPart;local originalSize=originalProperties[root].Size;local relativePos=root.CFrame:PointToObjectSpace(result[2]);local halfSize=originalSize/2 ;local clampedRelPos=Vector3.new(math.clamp(relativePos.X, -halfSize.X,halfSize.X),math.clamp(relativePos.Y, -halfSize.Y,halfSize.Y),math.clamp(relativePos.Z, -halfSize.Z,halfSize.Z));result[2]=root.CFrame:PointToWorldSpace(clampedRelPos);end end return unpack(result);end if ((method=="GetPartBoundsInBox") or (method=="GetPartBoundsInRadius") or (method=="GetPartsInPart")) then local results=oldNamecall(self,...);if (typeof(results)=="table") then return results;end end if ((method=="FindPartsInRegion3") or (method=="FindPartsInRegion3WithIgnoreList") or (method=="FindPartsInRegion3WithWhiteList")) then return oldNamecall(self,...);end end if ( not checkcaller() and config.Enabled) then if self:IsA("Camera") then if ((method=="ViewportPointToRay") or (method=="ScreenPointToRay")) then return oldNamecall(self,...);end end end if ( not checkcaller() and config.Enabled) then if self:IsA("BasePart") then if ((method=="GetTouchingParts") or (method=="GetPartsInPart")) then return oldNamecall(self,...);end end end return oldNamecall(self,...);end));local mouse=LocalPlayer:GetMouse();local oldMouseIndex;oldMouseIndex=hookmetamethod(mouse,"__index",newcclosure(function(self,key) if ( not checkcaller() and config.Enabled) then if (key=="Target") then local target=oldMouseIndex(self,key);if (target and originalProperties[target]) then return target;end elseif (key=="Hit") then local hit=oldMouseIndex(self,key);local target=oldMouseIndex(self,"Target");if (target and originalProperties[target] and config.GhostHitFix) then local root=target;local originalSize=originalProperties[root].Size;local relativePos=root.CFrame:PointToObjectSpace(hit.Position);local halfSize=originalSize/2 ;local clampedRelPos=Vector3.new(math.clamp(relativePos.X, -halfSize.X,halfSize.X),math.clamp(relativePos.Y, -halfSize.Y,halfSize.Y),math.clamp(relativePos.Z, -halfSize.Z,halfSize.Z));return root.CFrame * CFrame.new(clampedRelPos) ;end return hit;end end return oldMouseIndex(self,key);end));task.spawn(function() local dummyRay=workspace:Raycast(Vector3.new(0,1000,0),Vector3.new(0, -1,0));if dummyRay then local mt=getrawmetatable(dummyRay);local oldRayIndex=mt.__index;setreadonly(mt,false);mt.__index=newcclosure(function(self,key) if ( not checkcaller() and config.Enabled and config.GhostHitFix) then if (key=="Position") then local hitPart=oldRayIndex(self,"Instance");if (hitPart and originalProperties[hitPart]) then local pos=oldRayIndex(self,"Position");local root=hitPart;local originalSize=originalProperties[root].Size;local relativePos=root.CFrame:PointToObjectSpace(pos);local halfSize=originalSize/2 ;local clampedRelPos=Vector3.new(math.clamp(relativePos.X, -halfSize.X,halfSize.X),math.clamp(relativePos.Y, -halfSize.Y,halfSize.Y),math.clamp(relativePos.Z, -halfSize.Z,halfSize.Z));return root.CFrame:PointToWorldSpace(clampedRelPos);end elseif (key=="Distance") then local hitPart=oldRayIndex(self,"Instance");if (hitPart and originalProperties[hitPart]) then local pos=self.Position;local origin=oldRayIndex(self,"Normal") * 0 ;end end end return oldRayIndex(self,key);end);setreadonly(mt,true);end end);end local function makeDraggable(frame) local dragging,dragInput,dragStart,startPos;frame.InputBegan:Connect(function(input) if (input.UserInputType==Enum.UserInputType.MouseButton1) then dragging=true;dragStart=input.Position;startPos=frame.Position;input.Changed:Connect(function() if (input.UserInputState==Enum.UserInputState.End) then dragging=false;end end);end end);frame.InputChanged:Connect(function(input) if (input.UserInputType==Enum.UserInputType.MouseMovement) then dragInput=input;end end);UserInputService.InputChanged:Connect(function(input) if ((input==dragInput) and dragging) then local delta=input.Position-dragStart ;frame.Position=UDim2.new(startPos.X.Scale,startPos.X.Offset + delta.X ,startPos.Y.Scale,startPos.Y.Offset + delta.Y );end end);end makeDraggable(MainFrame);UserInputService.InputBegan:Connect(function(input,processed) if processed then return;end if (input.KeyCode==config.ToggleKey) then config.Visible= not config.Visible;if activeDropdown then activeDropdown.Visible=false;activeDropdown=nil;end if config.Visible then MainFrame.Visible=true;end for obj,initialProps in pairs(transparencyMap) do local tweenProps={};for prop,initialVal in pairs(initialProps) do tweenProps[prop]=(config.Visible and initialVal) or 1 ;end TweenService:Create(obj,TweenInfo.new(0.4),tweenProps):Play();end if  not config.Visible then task.delay(0.4,function() if  not config.Visible then MainFrame.Visible=false;end end);end end end);local function getRoot(char) local target=config.TargetPart;local part=char:FindFirstChild(target);if  not part then if (target=="Head") then part=char:FindFirstChild("Head") or char:FindFirstChild("HumanoidRootPart") ;elseif (target=="Torso") then part=char:FindFirstChild("Torso") or char:FindFirstChild("UpperTorso") or char:FindFirstChild("LowerTorso") or char:FindFirstChild("HumanoidRootPart") ;else part=char:FindFirstChild("HumanoidRootPart") or char:FindFirstChild("Torso") or char:FindFirstChild("UpperTorso") or char:FindFirstChild("LowerTorso") or char:FindFirstChild("Head") ;end end if  not part then part=char:FindFirstChild("LeftUpperArm") or char:FindFirstChild("LeftArm") or char:FindFirstChild("RightUpperArm") or char:FindFirstChild("RightArm") ;end return part;end local function expandPart(part) if ( not part or  not part:IsA("BasePart")) then return;end local orig=originalProperties[part];if  not orig then orig={Size=part.Size,Transparency=part.Transparency,CanCollide=part.CanCollide,Color=part.Color,Material=part.Material,Shape=(part:IsA("Part") and part.Shape) or nil };originalProperties[part]=orig;end if config.Enabled then local targetSize=Vector3.new(config.Size,config.Size,config.Size);if (part.Size~=targetSize) then part.Size=targetSize;end local targetTransparency=(config.HitboxVisible and 0.5) or orig.Transparency ;if (part.Transparency~=targetTransparency) then part.Transparency=targetTransparency;end if (part.CanCollide~=false) then part.CanCollide=false;end if part:IsA("Part") then local targetShape=Enum.PartType[config.Shape] or Enum.PartType.Block ;if (part.Shape~=targetShape) then part.Shape=targetShape;end end if config.HitboxVisible then local targetColor=(config.Rainbow and Color3.fromHSV((tick()%5)/5 ,1,1)) or config.Color ;if (part.Color~=targetColor) then part.Color=targetColor;end local targetMaterial=Enum.Material[config.Material] or Enum.Material.Neon ;if (part.Material~=targetMaterial) then part.Material=targetMaterial;end end else if (part.Size~=orig.Size) then part.Size=orig.Size;end if (part.Transparency~=orig.Transparency) then part.Transparency=orig.Transparency;end if (part.CanCollide~=orig.CanCollide) then part.CanCollide=orig.CanCollide;end if (part.Color~=orig.Color) then part.Color=orig.Color;end if (part.Material~=orig.Material) then part.Material=orig.Material;end if (part:IsA("Part") and orig.Shape and (part.Shape~=orig.Shape)) then part.Shape=orig.Shape;end end end local npcCache={};local function checkNPC(obj) local hum=(obj:IsA("Humanoid") and obj) or obj:FindFirstChildOfClass("Humanoid") ;local isRoot=((obj.Name=="HumanoidRootPart") or (obj.Name=="Torso") or (obj.Name=="Head")) and obj:IsA("BasePart") ;if (hum or isRoot) then local model=(obj:IsA("Model") and obj) or obj.Parent ;if (model and model:IsA("Model") and  not Players:GetPlayerFromCharacter(model)) then if npcCache[model] then return;end task.spawn(function() local root=getRoot(model);local h=model:FindFirstChildOfClass("Humanoid");local timeout=0;while ( not root or  not h) and (timeout<20)  do task.wait(0.1);root=getRoot(model);h=model:FindFirstChildOfClass("Humanoid");timeout=timeout + 1 ;end if (root and h) then npcCache[model]={root=root,hum=h};end end);end end end workspace.DescendantAdded:Connect(checkNPC);workspace.DescendantRemoving:Connect(function(obj) npcCache[obj]=nil;end);task.spawn(function() while true do if (config.Enabled and config.NPCs) then local all=workspace:GetDescendants();for i,obj in ipairs(all) do checkNPC(obj);if ((i%100)==0) then task.wait();end end end task.wait(5);end end);task.spawn(function() while true do if config.Enabled then local currentTargets={};for _,player in ipairs(Players:GetPlayers()) do if (player~=LocalPlayer) then local char=player.Character;if char then local isTeammate=config.TeamCheck and (player.Team==LocalPlayer.Team) ;if  not isTeammate then local root=getRoot(char);local hum=char:FindFirstChildOfClass("Humanoid");if (root and hum and (hum.Health>0)) then expandPart(root);currentTargets[root]=true;end end end end end if config.NPCs then for model,data in pairs(npcCache) do if model.Parent then local root=getRoot(model) or data.root ;local hum=data.hum;if (root and root.Parent and hum and hum.Parent and (hum.Health>0)) then expandPart(root);currentTargets[root]=true;else npcCache[model]=nil;end else npcCache[model]=nil;end end end for part,orig in pairs(originalProperties) do if ( not currentTargets[part] and part.Parent) then if (part.Size~=orig.Size) then part.Size=orig.Size;end if (part.Transparency~=orig.Transparency) then part.Transparency=orig.Transparency;end if (part.CanCollide~=orig.CanCollide) then part.CanCollide=orig.CanCollide;end if (part.Color~=orig.Color) then part.Color=orig.Color;end if (part.Material~=orig.Material) then part.Material=orig.Material;end if (part:IsA("Part") and orig.Shape and (part.Shape~=orig.Shape)) then part.Shape=orig.Shape;end originalProperties[part]=nil;end end else for part,orig in pairs(originalProperties) do if (part and part.Parent) then if (part.Size~=orig.Size) then part.Size=orig.Size;end if (part.Transparency~=orig.Transparency) then part.Transparency=orig.Transparency;end if (part.CanCollide~=orig.CanCollide) then part.CanCollide=orig.CanCollide;end if (part.Color~=orig.Color) then part.Color=orig.Color;end if (part.Material~=orig.Material) then part.Material=orig.Material;end if (part:IsA("Part") and orig.Shape and (part.Shape~=orig.Shape)) then part.Shape=orig.Shape;end end end originalProperties={};end RunService.Heartbeat:Wait();end end); end
